---
# Context metadata - enables efficient context loading
# Reference: Anthropic Skills best practices - YAML frontmatter for structured data

name: "context-{{FEATURE_NAME}}"
description: "Session resumption context for {{FEATURE_NAME}} feature implementation"
last_updated: "{{TIMESTAMP}}"
session_count: 1
context_type: "feature-implementation"

# Token efficiency - mark sections by priority (Reference: Progressive disclosure)
# CRITICAL sections must be read first, DETAILED for planning, REFERENCE as needed
sections_critical: ["status_snapshot", "current_focus", "for_next_session"]
sections_detailed: ["files_modified", "whats_working", "what_needs_work"]
sections_reference: ["architecture_context", "technical_context", "decisions_log", "tricky_areas"]

# Context compaction guidance - what to preserve (Reference: Context Engineering)
# WHY: When context window fills, preserve architectural decisions and current state
preserve_on_compaction:
  - "Architectural decisions and rationale"
  - "Unresolved bugs and blockers"
  - "Current implementation state and next actions"
  - "Key integration points and dependencies"

discard_on_compaction:
  - "Historical discussion and completed work details"
  - "Redundant tool outputs"
  - "Completed checklist items"
---

# Context: {{FEATURE_NAME}}

> **Architecture:** See `.specs/architecture.md` for complete technical design and ADRs.
> **Progress:** See `progress.yml` for detailed task tracking and phase completion.

---

<!-- === CRITICAL CONTEXT - Always Read First === -->
<!-- Reference: Anthropic context engineering - high-signal tokens first -->
<critical_context>

## Status Snapshot
**Last Updated:** {{TIMESTAMP}}
**Session:** #{{SESSION_NUMBER}}
**Status:** {{STATUS}} (planning | in_progress | testing | complete)
**Uncommitted Changes:** {{YES_NO}}

## Current Focus (Read This First)

{{ONE_PARAGRAPH_CURRENT_STATE}}

**Immediate next action:** {{SPECIFIC_NEXT_STEP}}
**Current file:** `{{FILE_PATH}}` (line {{LINE_NUMBER}})
**Blocker/Issue:** {{CURRENT_ISSUE_IF_ANY}} (or "None")

</critical_context>

---

<!-- === DETAILED CONTEXT - Read When Planning Work === -->
<!-- Reference: Progressive disclosure - details loaded when triggered -->
<detailed_context>

## What We're Building

{{FEATURE_DESCRIPTION}}

**See:** `.specs/architecture.md` for complete technical design, ADRs, and system integration.

## Files Modified This Session

<!-- Organized by status for quick scanning -->

**Active (editing now):**
- `path/to/file.tsx` - {{WHAT_BEING_DONE}} ({{PERCENTAGE}}% complete)
  - ✓ {{COMPLETED_WORK}}
  - ⧗ {{IN_PROGRESS_WORK}}
  - ☐ {{TODO_WORK}}

**Modified (completed this session):**
- `path/to/file1.ts` - {{CHANGE_DESCRIPTION}}
- `path/to/file2.tsx` - {{CHANGE_DESCRIPTION}}

**Planned (next):**
- `path/to/file3.ts` - {{PLANNED_CHANGE}}

## Git Status

**Changes:**
- {{X}} files modified
- {{Y}} files staged
- {{Z}} files unstaged
**Status:** Not committed | Partially committed | All committed

**Last commit:** `{{COMMIT_MESSAGE}}` ({{COMMIT_HASH_SHORT}})

## What's Working

[List what's currently functional and tested]

- ✓ Item 1 working correctly
- ✓ Item 2 implemented and tested
- ✓ Item 3 integrated successfully

## What Needs Work

[List what's incomplete, broken, or needs attention]

- ☐ Item 1 incomplete ({{SPECIFIC_ISSUE}})
- ⚠ Item 2 has bug ({{DESCRIBE_BUG}})
- ♻ Item 3 needs refactoring ({{WHY_REFACTOR}})

</detailed_context>

---

<!-- === FOR NEXT SESSION === -->
<!-- Reference: Claude Code Best Practices - Explore-Plan-Code-Commit Pattern -->
<for_next_session>

## For Next Session

### Immediate Actions (Do These First)

**1. Explore - Read Context Before Acting**
   <!-- WHY: Prevents wasted work and misaligned implementations -->
   - Read this file completely (current state and decisions)
   - Read `.specs/architecture.md` (design decisions and ADRs)
   - Review `progress.yml` (task status and phase completion)
   - Check `git status` and `git diff` (uncommitted changes)

**2. Plan - Think Before Coding**
   <!-- Reference: "Use extended thinking for complex problems" -->
   - **Use extended thinking:** "think hard" about {{SPECIFIC_CHALLENGE}}
   - Review the architectural approach in `architecture.md` ADR-{{NUMBER}}
   - Validate approach against {{SPECIFIC_REQUIREMENT}}
   - Consider edge cases: {{EDGE_CASE_1}}, {{EDGE_CASE_2}}

**3. Resume - Continue From Exact Stopping Point**
   - Open `{{FILE_PATH}}` at line {{LINE_NUMBER}}
   - {{SPECIFIC_INSTRUCTION_ABOUT_WHAT_TO_DO}}
   - Reference `{{EXAMPLE_FILE}}` for {{PATTERN_EXAMPLE}}
   - Follow pattern from `{{SIMILAR_IMPLEMENTATION}}`

**4. Verify - Before Committing**
   - Run tests: `{{TEST_COMMAND}}`
   - Check lint: `{{LINT_COMMAND}}`
   - Verify {{SPECIFIC_ACCEPTANCE_CRITERIA}}
   - Confirm no regressions: {{REGRESSION_TEST}}

### Context Notes
<!-- WHY you stopped - helps Claude understand state -->
**Stopped because:** {{REASON_FOR_STOPPING}}
**Blocker:** {{BLOCKER_IF_ANY}} (or "None")
**Decision needed:** {{DECISION_NEEDED_IF_ANY}} (or "None")

</for_next_session>

---

<!-- === REFERENCE CONTEXT - Read As Needed === -->
<!-- Reference: Progressive disclosure - reference information loaded on demand -->
<reference_context>

## Architecture Context

**See `.specs/architecture.md` for complete details**

### Key Decisions (ADR Summary)

**ADR-{{NUMBER}}: {{DECISION_TITLE}}**
- **Decision:** Chose {{OPTION_SELECTED}} over {{ALTERNATIVES}}
- **Rationale:** {{PRIMARY_REASON}}
- **Impact:** {{POSITIVE_OUTCOME}} (tradeoff: {{NEGATIVE_OUTCOME}})

### Integration Points

- {{SYSTEM_A}} via {{INTEGRATION_METHOD}} - {{PURPOSE}}
- {{SYSTEM_B}} via {{INTEGRATION_METHOD}} - {{PURPOSE}}

### Patterns In Use

- **{{PATTERN_NAME}}** - Used in `{{FILE_WHERE_USED}}` - {{DESCRIPTION}}
- Reference: `{{EXAMPLE_FILE}}` for similar implementation

## Technical Context

**Tech Stack:**
- {{FRAMEWORK}} {{VERSION}} - {{PURPOSE}}
- {{LIBRARY}} {{VERSION}} - {{PURPOSE}}

**Key Dependencies:**
- `{{PACKAGE_NAME}}` - {{WHAT_ITS_USED_FOR}}
- `{{PACKAGE_NAME}}` - {{WHAT_ITS_USED_FOR}}

**Conventions:**
- {{CONVENTION_1}}
- {{CONVENTION_2}}

## Decisions Log

<!-- Reference: Claude 4 best practices - "explicit instructions with contextual motivation" -->
<!-- WHY: Enables Claude to understand reasoning when resuming or extending feature -->

### {{DATE}} - {{DECISION_TITLE}}

**Context:** {{SITUATION_THAT_REQUIRED_DECISION}}

**Decision:** Chose {{OPTION_SELECTED}} over {{ALTERNATIVES}}

**Rationale:**
- {{REASON_1_WITH_TRADEOFF}}
- {{REASON_2_WITH_TRADEOFF}}
- {{REASON_3_WITH_TRADEOFF}}

**Consequences:**
- ✓ Benefit: {{POSITIVE_OUTCOME}}
- ⚠ Tradeoff: {{NEGATIVE_OUTCOME_OR_LIMITATION}}

**References:**
- `{{FILE_WHERE_IMPLEMENTED}}`
- {{LINK_TO_DOCS_IF_APPLICABLE}}

---

### Example (remove when adding real decisions)

### 2025-01-09 - Use React Query for Data Fetching

**Context:** Need to fetch and cache user data across multiple components with real-time updates.

**Decision:** Chose React Query over Redux + custom hooks

**Rationale:**
- Built-in caching reduces boilerplate (vs. Redux requires manual cache invalidation)
- Automatic refetching on window focus improves UX (vs. manual implementation needed)
- Smaller bundle size for this use case (12kb vs 45kb for Redux toolkit)

**Consequences:**
- ✓ Benefit: Reduced code by ~200 lines, improved loading states
- ⚠ Tradeoff: Team needs to learn new library, different mental model from Redux

**References:**
- `src/hooks/useUserData.ts` - Implementation
- React Query docs: https://tanstack.com/query

## Tricky Areas

<!-- Note anything confusing or non-obvious -->
<!-- WHY: Prevents future confusion and duplicate work -->

- **{{THING_CONFUSING}}** - {{EXPLANATION_OR_NOTE}}
- **{{GOTCHA_OR_EDGE_CASE}}** - {{HOW_TO_HANDLE_IT}}

## Testing Notes

<!-- Reference: TDD workflow from Claude Code best practices -->

**Tests Written:**
- ✓ {{TEST_CASE_1}} - Passing
- ⧗ {{TEST_CASE_2}} - In progress
- ☐ {{TEST_CASE_3}} - Planned

**Edge Cases to Test:**
- {{EDGE_CASE_1}}
- {{EDGE_CASE_2}}

**Integration Points to Test:**
- {{INTEGRATION_POINT_1}}
- {{INTEGRATION_POINT_2}}

## Security Notes

<!-- Reference OWASP Top 10 applicable to this feature -->

- **{{SECURITY_CONCERN_1}}**
- **Validation needed for:** {{INPUT_REQUIRING_VALIDATION}}
- **Authorization required for:** {{OPERATION_REQUIRING_AUTH}}

## Performance Notes

<!-- If performance is a concern, track observations -->

- {{OBSERVATION_ABOUT_PERFORMANCE}}
- {{OPTIMIZATION_NEEDED}}
- Benchmark target: {{BENCHMARK_TARGET}}

## Questions/Uncertainties

[Open questions or things to investigate]

- [ ] {{QUESTION_1}} - {{CONTEXT_WHY_IT_MATTERS}}
- [ ] {{QUESTION_2}} - {{WHERE_TO_FIND_ANSWER}}

## Resources

[Links to documentation, examples, or references]

- {{RESOURCE_NAME}}: {{URL}}
- {{RESOURCE_NAME}}: {{URL}}

</reference_context>

---

## Metadata (Auto-Generated)

**Created:** {{CREATED_DATE}}
**Total Sessions:** {{SESSION_COUNT}}
**Last Modified By:** Claude Code
**Template Version:** 2.0 (Anthropic-optimized)
